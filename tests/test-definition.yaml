---
dimensions:
  - name: trino-lb
    values:
      - oci.stackable.tech/stackable/trino-lb:0.5.0
  - name: trino
    values:
      - "451"
      # - "470" # Reduce test count
      - "476"
      # To use a custom image, add a comma and the full name after the product version
      # - 470,oci.stackable.tech/sdp/trino:470-stackable0.0.0-dev
      # However, watch out, you need to tweak the trino-cli image
  - name: trino-latest
    values:
      - "470"
      # To use a custom image, add a comma and the full name after the product version
      # - 470,oci.stackable.tech/sdp/trino:470-stackable0.0.0-dev
      # However, watch out, you need to tweak the trino-cli image
  - name: trino-lb-https
    values:
      - "true"
      - "false"
  - name: persistence
    values:
      - inMemory
      - redis
      - postgres
tests:
  - name: smoke
    dimensions:
      - trino-lb
      - trino
      - persistence

# TODOS
# 1. Restart trino-lb deployment to make sure persistence is kept
